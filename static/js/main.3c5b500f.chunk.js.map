{"version":3,"sources":["components/city_details/city_details.module.css","pages/login_page/login_page.module.css","pages/register_page/register.module.css","components/favorites_bar/favorites_bar.module.css","pages/map_page/map_page.module.css","components/markers/markers.module.css","components/form_component/form_styles.module.css","components/landing_background/background.module.css","components/text_button/text_button.module.css","components/form_component/form_component.tsx","components/landing_background/background.tsx","components/text_button/text_button.tsx","redux/actionTypes.ts","utils/firebaseApp.ts","utils/validators.ts","pages/login_page/login_page.tsx","pages/register_page/register_page.tsx","components/favorites_bar/favorites_bar.tsx","utils/converters.ts","components/city_details/city_details.tsx","components/markers/markers.tsx","pages/map_page/map_page.tsx","utils/credentials.ts","App.tsx","reportWebVitals.ts","redux/reducers.ts","index.tsx"],"names":["module","exports","FormComponent","values","map","v","index","label","FormField","inputRef","useRef","className","styles","field","inputProps","ref","Background","children","background","TextButton","onClick","container","AUTH_CHANGED","LOADED_PLACES","LOADING_DATA","LOADED_DATA","SET_POSITION","loginCodes","getAuthErrorMsg","errorCode","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","validEmail","email","test","LoginPage","history","useHistory","isLoading","useSelector","state","dispatch","useDispatch","useState","password","loginData","setLoginData","errors","setErrors","changeProperty","propName","value","loginForm","placeholder","onChange","e","target","type","loginBody","desktopTitle","title","desktopAside","indication","error","err","ind","catchedErrors","push","length","firebaseApp","auth","signInWithEmailAndPassword","then","ans","catch","code","disabled","action","last","RegisterPage","repeatPassword","registerData","setRegisterData","changeRegisterData","property","handleRegister","a","createUserWithEmailAndPassword","res","console","log","registerForm","registerBody","replace","FavoritesBar","props","onLocationClick","expanded","setExpanded","places","bar","toggle","signOut","scroll","dropdown","p","i","coords","payload","mainName","secondName","dropInfo","kelvinToFahren","kelvin","firstUpper","string","charAt","toUpperCase","slice","CityDetails","sentence","weatherData","locationData","selectedPosition","userID","loggedInID","isInList","some","name","formatted_address","information","iconUp","cityTitle","preciseName","desktopExpanded","cityDetails","cityData","weather","description","split","w","join","temp","main","toFixed","humidity","climateImg","icon","day","night","alt","src","filteredPlaces","filter","firestore","collection","doc","set","newLocation","userDoc","remove","SelectionMarker","selection","LocationMarker","PlaceMarker","MapPage","uid","currentLocation","setCurrentLocation","apiLoaded","setApiLoaded","undefined","apiInstance","setApiInstance","weatherInfo","setWeatherInfo","locationInfo","setLocationInfo","loadGeocoding","lat","lng","fetchGeocodeFromCoords","status","data","find","types","includes","location","Promise","resolve","reject","Geocoder","geocode","fetchWeatherInformation","url","fetch","json","handleCoordClick","geocodeP","weatherP","all","handleSelection","useEffect","snapshotSub","onSnapshot","snapshot","userData","barSpace","bootstrapURLKeys","key","libraries","center","defaultZoom","options","maps","fullscreenControl","zoomControlOptions","position","google","ControlPosition","RIGHT_BOTTOM","mapTypeControl","mapTypeControlOptions","RIGHT_TOP","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","api","navigator","geolocation","getCurrentPosition","pos","latitude","longitude","App","isLoggedIn","loginSubs","onAuthStateChanged","basename","path","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3c5b500f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"city_details_container__1m387\",\"preciseName\":\"city_details_preciseName__KwFmC\",\"information\":\"city_details_information__4tvL1\",\"expanded\":\"city_details_expanded__2O-WA\",\"iconUp\":\"city_details_iconUp__1cSnZ\",\"temp\":\"city_details_temp__axkot\",\"action\":\"city_details_action__1Hkv-\",\"cityTitle\":\"city_details_cityTitle__2-t-m\",\"cityDetails\":\"city_details_cityDetails__3yAEx\",\"cityData\":\"city_details_cityData__CV0o0\",\"climateImg\":\"city_details_climateImg__3oAcm\",\"day\":\"city_details_day__tR48s\",\"night\":\"city_details_night__2xWXG\",\"desktopTitle\":\"city_details_desktopTitle__1zMTs\",\"remove\":\"city_details_remove__ZxU9h\",\"desktopExpanded\":\"city_details_desktopExpanded__tGsds\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBody\":\"login_page_loginBody__330DG\",\"last\":\"login_page_last__3toCa\",\"indication\":\"login_page_indication__3MdJx\",\"title\":\"login_page_title__1F3py\",\"desktopAside\":\"login_page_desktopAside__3wbBg\",\"error\":\"login_page_error__2DvPM\",\"action\":\"login_page_action__b42xw\",\"desktopTitle\":\"login_page_desktopTitle__1PgcQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"last\":\"register_last__360yi\",\"registerBody\":\"register_registerBody__4eSLN\",\"title\":\"register_title__1zLO4\",\"desktopAside\":\"register_desktopAside__2iQ_R\",\"indication\":\"register_indication__1DyDu\",\"error\":\"register_error__2l9KN\",\"action\":\"register_action__rR48n\",\"desktopTitle\":\"register_desktopTitle__2zVI-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"favorites_bar_container__2G0E0\",\"expanded\":\"favorites_bar_expanded__3R8no\",\"toggle\":\"favorites_bar_toggle__3ueY-\",\"bar\":\"favorites_bar_bar__UZdeO\",\"signOut\":\"favorites_bar_signOut__rZ-WN\",\"dropdown\":\"favorites_bar_dropdown__U9hDy\",\"scroll\":\"favorites_bar_scroll__3peHf\",\"dropInfo\":\"favorites_bar_dropInfo__3ZFBm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"map\":\"map_page_map__3DsYW\",\"container\":\"map_page_container__2xF8o\",\"barSpace\":\"map_page_barSpace__3wQap\",\"desktopAside\":\"map_page_desktopAside__3OMeO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selection\":\"markers_selection__hhEzz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"field\":\"form_styles_field__3HBxi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"background_background__2q-rT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"text_button_container__29phu\"};","import React, { FC, useRef } from \"react\";\r\nimport { Field, FormProps } from \"./form_interface\";\r\nimport styles from \"./form_styles.module.css\";\r\n\r\nexport const FormComponent: FC<FormProps> = ({ values }) => {\r\n  return (\r\n    <div>\r\n      {values.map((v, index) => {\r\n        return <FormField key={v.label + index} v={v} index={index} />;\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst FormField = ({ v, index }: { v: Field; index: number }) => {\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  return (\r\n    <div className={styles.field}>\r\n      <label>{v.label}</label>\r\n      <input {...v.inputProps} ref={inputRef}></input>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport styles from './background.module.css';\r\n\r\nconst Background: React.FC = ({ children }) => {\r\n  return <div className={styles.background}>{children}</div>;\r\n};\r\n\r\nexport default Background;","import React, { FC, MouseEventHandler } from \"react\";\r\nimport styles from './text_button.module.css';\r\n\r\nexport interface TextButtonProps {\r\n  onClick: MouseEventHandler\r\n}\r\n\r\nexport const TextButton: FC<TextButtonProps> = ({onClick, children}) => {\r\n  return (\r\n    <div className={styles.container} onClick={onClick}>\r\n      <span>{children}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextButton;\r\n","export const AUTH_CHANGED = \"AUTH_CHANGED\";\r\n\r\nexport const LOADED_PLACES = \"LOADED_PLACES\";\r\n\r\nexport const LOADING_DATA = \"LOADING_DATA\";\r\n\r\nexport const LOADED_DATA = \"LOADED_DATA\";\r\n\r\nexport const SET_POSITION = \"SET_POSITION\";\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB_y3btlp6QFfv3w3_O8ZZoQSuF5ZTJtdM\",\r\n  authDomain: \"weather-maps-2e8d5.firebaseapp.com\",\r\n  projectId: \"weather-maps-2e8d5\",\r\n  storageBucket: \"weather-maps-2e8d5.appspot.com\",\r\n  messagingSenderId: \"465382766108\",\r\n  appId: \"1:465382766108:web:68d3cd5b6b4230558f11d9\",\r\n};\r\n\r\nconst loginCodes: { [key: string]: string } = {\r\n  \"auth/invalid-email\": \"El correo ingresado no es válido\",\r\n  \"auth/user-disabled\": \"El usuario no está disponible\",\r\n  \"auth/user-not-found\": \"El usuario no fué encontrado\",\r\n  \"auth/wrong-password\": \"Las credenciales no son correctas\",\r\n  \"auth/email-already-in-use\": \"Este correo ya está en uso\",\r\n  \"auth/operation-not-allowed\": \"Accíon negada por el servidor\",\r\n  \"auth/weak-password\":\r\n    \"La contraseña es muy débil, escriba una com más carateres\",\r\n};\r\n\r\nexport const getAuthErrorMsg = (errorCode: string): string => {\r\n  return loginCodes[errorCode];\r\n};\r\n\r\nexport default firebase.initializeApp(firebaseConfig);\r\n","export const validEmail = (email: string):boolean => {\r\n  const regex = /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/\r\n  return regex.test(email);\r\n} ","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport { FormComponent } from \"../../components/form_component/form_component\";\r\nimport { Field } from \"../../components/form_component/form_interface\";\r\nimport Background from \"../../components/landing_background/background\";\r\nimport TextButton from \"../../components/text_button/text_button\";\r\nimport { LOADED_DATA, LOADING_DATA } from \"../../redux/actionTypes\";\r\nimport { IRState } from \"../../redux/reducers\";\r\nimport firebaseApp, { getAuthErrorMsg } from \"../../utils/firebaseApp\";\r\nimport { validEmail } from \"../../utils/validators\";\r\nimport styles from \"./login_page.module.css\";\r\n\r\nfunction LoginPage() {\r\n  const history = useHistory();\r\n  const isLoading = useSelector<IRState>((state) => state.isLoading) as boolean;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [loginData, setLoginData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [errors, setErrors] = useState<string[]>([]);\r\n\r\n  const changeProperty = (propName: string, value: string): void => {\r\n    setLoginData({\r\n      ...loginData,\r\n      [propName]: value,\r\n    });\r\n  };\r\n\r\n  const handleLogin = () => {\r\n    const { email, password } = loginData;\r\n    let catchedErrors: string[] = [];\r\n\r\n    if (!email || email === \"\" || !password || password === \"\") {\r\n      catchedErrors = [\"Favor de llenar todos los campos\"];\r\n      setErrors(catchedErrors);\r\n      return;\r\n    }\r\n\r\n    if (!validEmail(email)) {\r\n      catchedErrors.push(\"El email no es válido\");\r\n    }\r\n\r\n    if (catchedErrors.length > 0) {\r\n      setErrors(catchedErrors);\r\n      return;\r\n    }\r\n\r\n    dispatch({ type: LOADING_DATA });\r\n\r\n    firebaseApp\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((ans) => {\r\n        dispatch({ type: LOADED_DATA });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({ type: LOADED_DATA });\r\n        setErrors([getAuthErrorMsg(err.code)]);\r\n      });\r\n  };\r\n\r\n  const loginForm: Field[] = [\r\n    {\r\n      label: \"Correo electrónico: \",\r\n      inputProps: {\r\n        placeholder: \"test@email.com\",\r\n        value: loginData.email,\r\n        onChange: (e) => {\r\n          changeProperty(\"email\", e.target.value);\r\n        },\r\n      },\r\n    },\r\n    {\r\n      label: \"Contraseña:\",\r\n      inputProps: {\r\n        type: \"password\",\r\n        value: loginData.password,\r\n        onChange: (e) => {\r\n          changeProperty(\"password\", e.target.value);\r\n        },\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Background>\r\n        <div className={styles.loginBody}>\r\n          <div className={styles.desktopTitle}>\r\n            <h1 className={styles.title}>Weather Maps</h1>\r\n          </div>\r\n          <div className={styles.desktopAside}>\r\n            <h5 className={styles.indication}>\r\n              Inicia sesión para ver tus ciudades\r\n            </h5>\r\n            <FormComponent values={loginForm} />\r\n            <div className={styles.error}>\r\n              {errors.map((err, ind) => (\r\n                <p key={ind}>{err}</p>\r\n              ))}\r\n            </div>\r\n            <button\r\n              onClick={handleLogin}\r\n              disabled={isLoading}\r\n              className={\"button \" + styles.action}\r\n            >\r\n              {isLoading && <i className=\"fas fa-snowflake spinning\"></i>}\r\n              <span>Ingresar</span>\r\n            </button>\r\n            <div className={styles.last}>\r\n              <TextButton\r\n                onClick={() => {\r\n                  history.push(\"/register\");\r\n                }}\r\n              >\r\n                Registrarse\r\n              </TextButton>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Background>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LoginPage;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { FormComponent } from \"../../components/form_component/form_component\";\r\nimport { Field } from \"../../components/form_component/form_interface\";\r\nimport Background from \"../../components/landing_background/background\";\r\nimport TextButton from \"../../components/text_button/text_button\";\r\nimport { validEmail } from \"../../utils/validators\";\r\nimport firebaseApp, { getAuthErrorMsg } from \"../../utils/firebaseApp\";\r\nimport styles from \"./register.module.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { IRState } from \"../../redux/reducers\";\r\nimport { LOADED_DATA, LOADING_DATA } from \"../../redux/actionTypes\";\r\n\r\nfunction RegisterPage() {\r\n  const history = useHistory();\r\n  const isLoading = useSelector<IRState>((state) => state.isLoading) as boolean;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [errors, setErrors] = useState<string[]>([]);\r\n\r\n  const [registerData, setRegisterData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    repeatPassword: \"\",\r\n  });\r\n\r\n  const changeRegisterData = (property: string, value: string) => {\r\n    setRegisterData({\r\n      ...registerData,\r\n      [property]: value,\r\n    });\r\n  };\r\n\r\n  const handleRegister = async () => {\r\n    const { email, password, repeatPassword } = registerData;\r\n    let catchedErrors: string[] = [];\r\n\r\n    if (\r\n      !email ||\r\n      email === \"\" ||\r\n      !password ||\r\n      password === \"\" ||\r\n      !repeatPassword ||\r\n      repeatPassword === \"\"\r\n    ) {\r\n      catchedErrors = [\"Favor de llenar todos los campos\"];\r\n      setErrors(catchedErrors);\r\n      return;\r\n    }\r\n\r\n    if (password.length < 6) {\r\n      catchedErrors.push(\"La contraseña es demasiado corta\");\r\n    }\r\n\r\n    if (!validEmail(email)) {\r\n      catchedErrors.push(\"El email no es válido\");\r\n    }\r\n\r\n    if (password !== repeatPassword) {\r\n      catchedErrors.push(\"Las contraseñas no coinciden\");\r\n    }\r\n\r\n    if (catchedErrors.length > 0) {\r\n      setErrors(catchedErrors);\r\n      return;\r\n    }\r\n\r\n    dispatch({ type: LOADING_DATA });\r\n\r\n    try {\r\n      const res = await firebaseApp\r\n        .auth()\r\n        .createUserWithEmailAndPassword(email, password);\r\n      dispatch({ type: LOADED_DATA });\r\n      console.log(res);\r\n    } catch (err) {\r\n      dispatch({ type: LOADED_DATA });\r\n      setErrors([getAuthErrorMsg(err.code)]);\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const registerForm: Field[] = [\r\n    {\r\n      label: \"Correo electrónico:\",\r\n      inputProps: {\r\n        placeholder: \"myEmail@email.com\",\r\n        value: registerData.email,\r\n        onChange: (e) => {\r\n          changeRegisterData(\"email\", e.target.value);\r\n        },\r\n      },\r\n    },\r\n    {\r\n      label: \"Contraseña:\",\r\n      inputProps: {\r\n        type: \"password\",\r\n        value: registerData.password,\r\n        onChange: (e) => {\r\n          changeRegisterData(\"password\", e.target.value);\r\n        },\r\n      },\r\n    },\r\n    {\r\n      label: \"Repetir Contraseña:\",\r\n      inputProps: {\r\n        type: \"password\",\r\n        value: registerData.repeatPassword,\r\n        onChange: (e) => {\r\n          changeRegisterData(\"repeatPassword\", e.target.value);\r\n        },\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Background>\r\n      <div className={styles.registerBody}>\r\n        <div className={styles.desktopTitle}>\r\n          <h1 className={styles.title}>Weather Maps</h1>\r\n        </div>\r\n        <div className={styles.desktopAside}>\r\n          <h4 className={styles.indication}>Registrate</h4>\r\n          <FormComponent values={registerForm} />\r\n          <div className={styles.error}>\r\n            {errors.map((err, ind) => (\r\n              <p key={ind}>{err}</p>\r\n            ))}\r\n          </div>\r\n          <button\r\n            onClick={handleRegister}\r\n            className={\"button \" + styles.action}\r\n          >\r\n            {isLoading && <i className=\"fas fa-snowflake spinning\"></i>}\r\n            <span>Registrarse</span>\r\n          </button>\r\n          <div className={styles.last}>\r\n            <TextButton\r\n              onClick={() => {\r\n                history.replace(\"/login\");\r\n              }}\r\n            >\r\n              Iniciar Sesión\r\n            </TextButton>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Background>\r\n  );\r\n}\r\n\r\nexport default RegisterPage;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Place } from \"../../models/DatabasePlace\";\r\nimport { SET_POSITION } from \"../../redux/actionTypes\";\r\nimport { IRState } from \"../../redux/reducers\";\r\nimport firebaseApp from \"../../utils/firebaseApp\";\r\nimport styles from \"./favorites_bar.module.css\";\r\n\r\ninterface Props {\r\n  onLocationClick: (coords: google.maps.LatLngLiteral) => void | Promise<void>\r\n}\r\n\r\n\r\nfunction FavoritesBar(props: Props) {\r\n  const {onLocationClick} = props;\r\n  const [expanded, setExpanded] = useState(false);\r\n  const places = useSelector<IRState, Place[] | undefined>(\r\n    (state) => state.places\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  const handleLogout = () => {\r\n    firebaseApp.auth().signOut();\r\n  };\r\n\r\n  const handleListSelected = (coords: google.maps.LatLngLiteral) => {\r\n    dispatch({ type: SET_POSITION, payload: coords });\r\n    onLocationClick(coords);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container + \" \" + (expanded ? styles.expanded : \"\")}>\r\n      <div className={styles.bar}>\r\n        <div className={styles.toggle} onClick={() => setExpanded(!expanded)}>\r\n          <span>\r\n            <i className=\"fas fa-chevron-right\"></i>\r\n            <span>Favoritos</span>\r\n          </span>\r\n        </div>\r\n        <div className={styles.signOut} onClick={handleLogout}>\r\n          Cerrar Sesión\r\n          <i className=\"fas fa-sign-out-alt\"></i>\r\n        </div>\r\n      </div>\r\n      <div className={styles.scroll}>\r\n        <ul className={styles.dropdown}>\r\n          {places && places.length > 0 ? (\r\n            places.map((p, i) => (\r\n              <li\r\n                key={p.mainName + i}\r\n                onClick={() => handleListSelected(p.coords)}\r\n              >\r\n                <div>\r\n                  {p.mainName}\r\n                  <span>{p.secondName}</span>\r\n                </div>\r\n              </li>\r\n            ))\r\n          ) : (\r\n            <p className={styles.dropInfo}>No tienes lugares guardados</p>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FavoritesBar;\r\n","export const kelvinToCelsius = (kelvin: number): number => {\r\n  const cero_kelvin = 273.15;\r\n  return (kelvin - cero_kelvin);\r\n};\r\n\r\nexport const kelvinToFahren = (kelvin: number): number => {\r\n  return (kelvin * 9) / 5 - 459.67;\r\n};\r\n\r\nexport const sentenceCapitalize = (sentence: string): string => {\r\n  const words = sentence.split(\" \");\r\n\r\n  const capitalizedWords = words.map((w) => firstUpper(w));\r\n\r\n  return capitalizedWords.join(\" \");\r\n};\r\n\r\nexport const firstUpper = (string: string): string => {\r\n  const firstWord = string.charAt(0).toUpperCase();\r\n\r\n  return firstWord + string.slice(1);\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Place } from \"../../models/DatabasePlace\";\r\nimport { WeatherResponse } from \"../../models/weather_response\";\r\nimport { IRState } from \"../../redux/reducers\";\r\nimport {\r\n  kelvinToCelsius,\r\n  kelvinToFahren,\r\n  sentenceCapitalize,\r\n} from \"../../utils/converters\";\r\nimport firebaseApp from \"../../utils/firebaseApp\";\r\nimport styles from \"./city_details.module.css\";\r\n\r\ninterface props {\r\n  weatherData?: WeatherResponse;\r\n  locationData?: google.maps.GeocoderResult;\r\n}\r\n\r\nfunction CityDetails(props: props) {\r\n  const { weatherData, locationData } = props;\r\n\r\n  const selectedPosition = useSelector<IRState, google.maps.LatLngLiteral>(\r\n    (state) => state.selectedPosition\r\n  );\r\n\r\n  const places = useSelector<IRState, Place[] | undefined>(\r\n    (state) => state.places\r\n  );\r\n\r\n  const userID = useSelector<IRState, string | null>(\r\n    (state) => state.loggedInID\r\n  );\r\n\r\n  const isLoading = useSelector<IRState>((state) => state.isLoading);\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  const handleAddLocation = () => {\r\n    const newLocation: Place = {\r\n      mainName: weatherData!.name,\r\n      secondName: locationData ? locationData.formatted_address : \" \",\r\n      coords: selectedPosition,\r\n    };\r\n\r\n    const userDoc = firebaseApp.firestore().collection(\"users\").doc(userID!);\r\n\r\n    if (places) {\r\n      userDoc.set({ places: [...places, newLocation] });\r\n    } else {\r\n      userDoc.set({ places: [newLocation] });\r\n    }\r\n  };\r\n\r\n  const handleRemoveLocation = () => {\r\n    const filteredPlaces = places!.filter(\r\n      (p) =>\r\n        p.mainName !== weatherData!.name &&\r\n        p.secondName !== (locationData ? locationData.formatted_address : \" \")\r\n    );\r\n\r\n    const userDoc = firebaseApp.firestore().collection(\"users\").doc(userID!);\r\n\r\n    userDoc.set({ places: filteredPlaces });\r\n  };\r\n\r\n  const isInList = (): boolean => {\r\n    if (!places || !weatherData) return false;\r\n\r\n    return places.some(\r\n      (p) =>\r\n        p.mainName === weatherData.name &&\r\n        p.secondName === (locationData ? locationData.formatted_address : \" \")\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        styles.container +\r\n        \" \" +\r\n        (isLoading || !weatherData || expanded ? styles.expanded : \"\")\r\n      }\r\n    >\r\n      {isLoading ? (\r\n        <div className={styles.information}>\r\n          <i className=\"fas fa-snowflake spinning\"></i> Cargando\r\n        </div>\r\n      ) : !weatherData ? (\r\n        <div className={styles.information}>Seleccione un lugar</div>\r\n      ) : (\r\n        <>\r\n          <div className={styles.iconUp} onClick={() => setExpanded(!expanded)}>\r\n            <i className=\"fas fa-chevron-up\"></i>\r\n            <h3 className={styles.cityTitle}>{weatherData?.name}</h3>\r\n            <p className={styles.preciseName}>\r\n              {locationData?.formatted_address}\r\n            </p>\r\n          </div>\r\n          <div className={styles.desktopExpanded}>\r\n            <h3 className={styles.desktopTitle}>{weatherData?.name}</h3>\r\n            <p className={styles.preciseName + \" \" + styles.desktopTitle}>\r\n              {locationData?.formatted_address}\r\n            </p>\r\n            <div className={styles.cityDetails}>\r\n              <div className={styles.cityData}>\r\n                <div>\r\n                  {sentenceCapitalize(weatherData.weather[0].description)}\r\n                </div>\r\n                <div className={styles.temp}>\r\n                  <div>\r\n                    {kelvinToCelsius(weatherData.main.temp).toFixed(1) + \" °C \"}\r\n                  </div>\r\n                  <div>\r\n                    {kelvinToFahren(weatherData.main.temp).toFixed(1) + \" °F\"}\r\n                  </div>\r\n                </div>\r\n                <div>{weatherData.main.humidity} mm</div>\r\n              </div>\r\n              <div className={styles.climateImg + \" \" + (weatherData.weather[0].icon.charAt(2) === 'd' ? styles.day : styles.night)}>\r\n                <img\r\n                  alt=\"weather-icon\"\r\n                  src={`https://openweathermap.org/img/wn/${weatherData.weather[0].icon}@4x.png`}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              onClick={!isInList() ? handleAddLocation : handleRemoveLocation}\r\n              className={\r\n                \"button \" +\r\n                styles.action +\r\n                \" \" +\r\n                (isInList() ? styles.remove : \"\")\r\n              }\r\n            >\r\n              {!isInList() ? \"Guardar\" : \"Quitar\"}\r\n            </button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CityDetails;\r\n","import React, { FC } from \"react\";\r\nimport styles from \"./markers.module.css\";\r\n\r\ninterface MarkerProps {\r\n  lat: number;\r\n  lng: number;\r\n  onClick?: () => void;\r\n}\r\n\r\nexport const SelectionMarker: FC<MarkerProps> = (props: MarkerProps) => {\r\n  return (\r\n    <div className={styles.selection} onClick={props.onClick}>\r\n      <img src=\"./assets/img/marker2.svg\" alt=\"Current location\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const LocationMarker: FC<MarkerProps> = (props: MarkerProps) => {\r\n  return (\r\n    <div className={styles.selection} onClick={props.onClick}>\r\n      <img src=\"./assets/img/marker.svg\" alt=\"Current location\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const PlaceMarker: FC<MarkerProps> = (props: MarkerProps) => {\r\n  return (\r\n    <div className={styles.selection} onClick={props.onClick}>\r\n      <img src=\"./assets/img/marker1.svg\" alt=\"Current location\" />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport GoogleMap from \"google-map-react\";\r\nimport styles from \"./map_page.module.css\";\r\nimport FavoritesBar from \"../../components/favorites_bar/favorites_bar\";\r\nimport CityDetails from \"../../components/city_details/city_details\";\r\nimport firebaseApp from \"../../utils/firebaseApp\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { IRState } from \"../../redux/reducers\";\r\nimport {\r\n  LOADED_DATA,\r\n  LOADED_PLACES,\r\n  LOADING_DATA,\r\n  SET_POSITION,\r\n} from \"../../redux/actionTypes\";\r\nimport { WEATHER_KEY } from \"../../utils/credentials\";\r\nimport { WeatherResponse } from \"../../models/weather_response\";\r\nimport {\r\n  LocationMarker,\r\n  PlaceMarker,\r\n  SelectionMarker,\r\n} from \"../../components/markers/markers\";\r\nimport { Place } from \"../../models/DatabasePlace\";\r\n\r\nfunction MapPage() {\r\n  const uid = useSelector<IRState, string | null>((state) => state.loggedInID);\r\n  const places = useSelector<IRState, Place[] | undefined>(\r\n    (state) => state.places\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  const selectedPosition = useSelector<IRState, GoogleMap.Coords>(\r\n    (state) => state.selectedPosition\r\n  );\r\n\r\n  const [currentLocation, setCurrentLocation] = useState<GoogleMap.Coords>();\r\n\r\n  const [apiLoaded, setApiLoaded] = useState(false);\r\n  const [apiInstance, setApiInstance] = useState<any>(undefined);\r\n\r\n  const [weatherInfo, setWeatherInfo] = useState<WeatherResponse>();\r\n  const [locationInfo, setLocationInfo] =\r\n    useState<google.maps.GeocoderResult>();\r\n\r\n  const mapControlOptions = (maps: GoogleMap.Maps): GoogleMap.MapOptions => {\r\n    return {\r\n      fullscreenControl: false,\r\n      zoomControlOptions: {\r\n        position: google.maps.ControlPosition.RIGHT_BOTTOM,\r\n      },\r\n      mapTypeControl: true,\r\n      mapTypeControlOptions: {\r\n        position: google.maps.ControlPosition.RIGHT_TOP,\r\n      },\r\n    };\r\n  };\r\n\r\n  const handleApiLoaded = (map: any, api: any) => {\r\n    setApiLoaded(true);\r\n    setApiInstance(api);\r\n    navigator.geolocation.getCurrentPosition((pos: GeolocationPosition) => {\r\n      const coords = {\r\n        lat: pos.coords.latitude,\r\n        lng: pos.coords.longitude,\r\n      };\r\n      dispatch({ type: SET_POSITION, payload: coords });\r\n      setCurrentLocation(coords);\r\n    });\r\n  };\r\n\r\n  const loadGeocoding = async (lat: number, lng: number): Promise<void> => {\r\n    try {\r\n      const { values, status } = await fetchGeocodeFromCoords(lat, lng);\r\n\r\n      if (status === \"OK\") {\r\n        if (values) {\r\n          const data = values.find((v) => v.types.includes(\"locality\"));\r\n          setLocationInfo(data);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Geocoding failed\");\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const fetchGeocodeFromCoords = (lat: number, lng: number) => {\r\n    const location = { lat, lng };\r\n\r\n    return new Promise<{\r\n      values: google.maps.GeocoderResult[] | null;\r\n      status: google.maps.GeocoderStatus;\r\n    }>((resolve, reject) => {\r\n      if (apiInstance && apiLoaded) {\r\n        const geocoder = new apiInstance.Geocoder() as google.maps.Geocoder;\r\n        geocoder.geocode({ location }, (values, status) =>\r\n          resolve({ values, status })\r\n        );\r\n      } else {\r\n        reject(\"Failed to Geocode, api not loaded\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const fetchWeatherInformation = async (lat: number, lng: number) => {\r\n    const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lng}&appid=${WEATHER_KEY}&lang=es`;\r\n\r\n    try {\r\n      const res = (await (await fetch(url)).json()) as WeatherResponse;\r\n      setWeatherInfo(res);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const handleCoordClick = async (\r\n    value: GoogleMap.ClickEventValue | { lat: number; lng: number }\r\n  ): Promise<void> => {\r\n    const { lat, lng } = value;\r\n\r\n    dispatch({ type: SET_POSITION, payload: { lat, lng } });\r\n\r\n    dispatch({ type: LOADING_DATA });\r\n\r\n    const geocodeP = loadGeocoding(lat, lng);\r\n    const weatherP = fetchWeatherInformation(lat, lng);\r\n\r\n    try {\r\n      await Promise.all([geocodeP, weatherP]);\r\n      dispatch({ type: LOADED_DATA });\r\n    } catch (e) {\r\n      dispatch({ type: LOADED_DATA });\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const handleSelection = async (coords: google.maps.LatLngLiteral) => {\r\n    const { lat, lng } = coords;\r\n    dispatch({ type: LOADING_DATA });\r\n\r\n    const geocodeP = loadGeocoding(lat, lng);\r\n    const weatherP = fetchWeatherInformation(lat, lng);\r\n\r\n    try {\r\n      await Promise.all([geocodeP, weatherP]);\r\n      dispatch({ type: LOADED_DATA });\r\n    } catch (e) {\r\n      dispatch({ type: LOADED_DATA });\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  // Firestore handler\r\n  useEffect(() => {\r\n    const userDoc = firebaseApp.firestore().collection(\"users\").doc(uid!);\r\n    const snapshotSub = userDoc.onSnapshot((snapshot) => {\r\n      const userData = snapshot.data();\r\n      dispatch({ type: LOADED_PLACES, payload: userData && userData.places });\r\n    });\r\n\r\n    return () => {\r\n      snapshotSub();\r\n    };\r\n  }, [uid, dispatch]);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.barSpace}>\r\n        <FavoritesBar onLocationClick={handleSelection} />\r\n      </div>\r\n      <div className={styles.map}>\r\n        <GoogleMap\r\n          bootstrapURLKeys={{\r\n            key: \"AIzaSyAlAfjkEyZc3T2vLRARL5f4QYJj3ZPai6Q\",\r\n            libraries: [\"places\"],\r\n          }}\r\n          center={selectedPosition}\r\n          defaultZoom={12}\r\n          options={mapControlOptions}\r\n          onClick={handleCoordClick}\r\n          yesIWantToUseGoogleMapApiInternals\r\n          onGoogleApiLoaded={({ map, maps }) => handleApiLoaded(map, maps)}\r\n        >\r\n          <SelectionMarker\r\n            lat={selectedPosition.lat}\r\n            lng={selectedPosition.lng}\r\n          ></SelectionMarker>\r\n          {currentLocation && (\r\n            <LocationMarker\r\n              lat={currentLocation?.lat}\r\n              lng={currentLocation?.lng}\r\n              onClick={() =>\r\n                handleCoordClick({\r\n                  lat: currentLocation?.lat,\r\n                  lng: currentLocation?.lng,\r\n                })\r\n              }\r\n            />\r\n          )}\r\n\r\n          {places &&\r\n            places.length > 0 &&\r\n            places.map((p, i) => (\r\n              <PlaceMarker\r\n                key={p.mainName + i}\r\n                lat={p.coords.lat}\r\n                lng={p.coords.lng}\r\n                onClick={() =>\r\n                  handleCoordClick({\r\n                    lat: p.coords.lat,\r\n                    lng: p.coords.lng,\r\n                  })\r\n                }\r\n              />\r\n            ))}\r\n        </GoogleMap>\r\n      </div>\r\n      <div className={styles.desktopAside}>\r\n        <CityDetails weatherData={weatherInfo} locationData={locationInfo} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapPage;\r\n","export const WEATHER_KEY = 'f18c89d791fbe09f2153b491309249d3';","import React, { useEffect } from \"react\";\nimport {\n  HashRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { IRState, ReduxAction } from \"./redux/reducers\";\nimport LoginPage from \"./pages/login_page/login_page\";\nimport RegisterPage from \"./pages/register_page/register_page\";\nimport MapPage from \"./pages/map_page/map_page\";\nimport \"./App.css\";\nimport firebaseApp from \"./utils/firebaseApp\";\nimport { AUTH_CHANGED } from \"./redux/actionTypes\";\n\nfunction App() {\n  const isLoggedIn = useSelector<IRState>((state) => state.loggedInID);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const loginSubs = firebaseApp.auth().onAuthStateChanged((data) => {\n      if (data) {\n        dispatch<ReduxAction>({ type: AUTH_CHANGED, payload: data.uid });\n      } else {\n        dispatch({ type: AUTH_CHANGED, payload: null });\n      }\n    });\n\n    return () => {\n      loginSubs();\n    };\n  });\n\n  return (\n    <Router basename=\"/\">\n      <div className=\"App\">\n        <Switch>\n          <Route path=\"/login\">\n            {isLoggedIn ? <Redirect to=\"/map\" /> : <LoginPage />}\n          </Route>\n          <Route path=\"/register\">\n            {isLoggedIn ? <Redirect to=\"/map\" /> : <RegisterPage />}\n          </Route>\n          <Route path=\"/map\">\n            {isLoggedIn ? <MapPage /> : <Redirect to=\"/login\" />}\n          </Route>\n          <Route path=\"*\">\n            {isLoggedIn ? <Redirect to=\"/map\" /> : <Redirect to=\"/login\" />}\n            <Redirect to=\"/login\" />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { Place } from \"../models/DatabasePlace\";\r\nimport {\r\n  AUTH_CHANGED,\r\n  LOADED_DATA,\r\n  LOADED_PLACES,\r\n  LOADING_DATA,\r\n  SET_POSITION,\r\n} from \"./actionTypes\";\r\n\r\nexport interface ReduxAction {\r\n  type: string;\r\n  payload?: any;\r\n}\r\n\r\nexport interface IRState {\r\n  loggedInID: string | null;\r\n  places?: Place[];\r\n  isLoading: boolean;\r\n  selectedPosition: google.maps.LatLngLiteral;\r\n}\r\n\r\nconst initialState: IRState = {\r\n  loggedInID: null,\r\n  isLoading: false,\r\n  selectedPosition: {\r\n    lat: 18.9,\r\n    lng: -99.2,\r\n  },\r\n};\r\n\r\nexport const loginReducer = (\r\n  state: IRState = initialState,\r\n  action: ReduxAction\r\n): IRState => {\r\n  if (action.type === LOADING_DATA) {\r\n    return {\r\n      ...state,\r\n      isLoading: true,\r\n    };\r\n  }\r\n\r\n  if (action.type === AUTH_CHANGED) {\r\n    return {\r\n      ...state,\r\n      loggedInID: action.payload,\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  if (action.type === LOADED_PLACES) {\r\n    return {\r\n      ...state,\r\n      places: action.payload,\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  if (action.type === LOADED_DATA) {\r\n    return {\r\n      ...state,\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  if (action.type === SET_POSITION) {\r\n    return {\r\n      ...state,\r\n      selectedPosition: action.payload,\r\n    };\r\n  }\r\n\r\n  return state;\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport { loginReducer } from \"./redux/reducers\";\n\nconst store = createStore(\n  loginReducer,\n  (window as any).__REDUX_DEVTOOLS_EXTENSION__ && (window as any).__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}